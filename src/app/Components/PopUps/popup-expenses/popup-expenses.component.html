<ion-header>
  <ion-toolbar>
    <div style="display:flex; justify-content:flex-start; align-items:center; margin-left: 10px;">
      <ion-button (click)="closePopUp()" color="white" class="menu-toggle">
        <ion-icon name="arrow-back-outline" color="primary"></ion-icon>
      </ion-button>
      <ion-title size="large">Cuadre de caja</ion-title>
    </div>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-item-divider></ion-item-divider>
  <ion-row class="w-95 m-auto mt-25 ion-padding mb-15">
      <ion-row class="w-100">
        <ion-row class="w-100 mb-15">
          <ion-label>Tipo de gasto</ion-label>
          <div class="container-input m-auto w-100">
              <div class="container-icon">                      
                <ion-icon class="icon-input" name="wallet-outline"></ion-icon>
              </div>
              <ion-item lines="none" color="none">
                <div class="input-group">
                  <ion-select okText="Aceptar" [(value)]="expenses.idExpenseType" cancelText="Cancelar" (ionChange)="OnChangeExpenseType($event)">
                    <ion-select-option *ngFor="let item of expensesType" [value]="item.idExpenseType">{{ item.name }}</ion-select-option>
                  </ion-select>
                </div>
            </ion-item>
          </div>
        </ion-row>
        <ion-row class="w-100 mb-15">
          <ion-label>Responsable</ion-label>
          <div class="container-input m-auto w-100">
              <div class="container-icon">                      
                <ion-icon class="icon-input" name="person-outline"></ion-icon>
              </div>
              <ion-item lines="none" color="none">
                <div class="input-group">
                  <ion-select okText="Aceptar" [(value)]="expenses.idResponsable" cancelText="Cancelar" (ionChange)="OnChangeUser($event)">
                    <ion-select-option *ngFor="let item of users" [value]="item.idStoreUser">{{ item.name + " " + item.lastName + " - " + item.username }}</ion-select-option>
                  </ion-select>
                </div>
            </ion-item>
          </div>
        </ion-row>
        <ion-row class="w-100 mb-15">
          <ion-label>Forma de pago</ion-label>
          <div class="container-input m-auto w-100">
              <div class="container-icon">                      
                <ion-icon class="icon-input" name="cash-outline"></ion-icon>
              </div>
              <ion-item lines="none" color="none">
                <div class="input-group">
                  <ion-select okText="Aceptar" [(value)]="expenses.paymentMethod" cancelText="Cancelar" (ionChange)="OnChangePaymentMethod($event)">
                    <ion-select-option value="Efectivo">Efectivo</ion-select-option>                    
                  </ion-select>
                </div>
            </ion-item>
          </div>
        </ion-row>
        <ion-row class="w-100 mb-15">
          <ion-label>N° Factura</ion-label>
          <div class="container-input m-auto w-100">
            <div class="container-icon">
              <ion-icon class="icon-input" name="reader-outline"></ion-icon>
            </div>
            <ion-item lines="none" color="none">
              <div class="input-group">
                <ion-input type="text" placeholder="Ingresa un número de factura" [(ngModel)]="expenses.invoiceNumber"></ion-input>
              </div>
            </ion-item>
          </div>
        </ion-row> 
        <ion-row class="w-100 mb-15">
          <ion-label>Concepto de gasto</ion-label>
          <div class="container-input m-auto w-100">
            <div class="container-icon">
              <ion-icon class="icon-input" name="file-tray-full-outline"></ion-icon>
            </div>
            <ion-item lines="none" color="none">
              <div class="input-group">
                <ion-input type="text" placeholder="Ingresa el nombre del concepto" [(ngModel)]="expenses.expenseConcept"></ion-input>
              </div>
            </ion-item>
          </div>
        </ion-row>
        <ion-row class="w-100 mb-15">
          <ion-label>Subtotal</ion-label>
          <div class="container-input m-auto w-100">
            <div class="container-icon">
              <ion-icon class="icon-input" name="logo-usd"></ion-icon>
            </div>
            <ion-item lines="none" color="none">
              <div class="input-group">
                <ion-input type="text" placeholder="Ingresa el monto del gasto" [(ngModel)]="expenses.subTotal"></ion-input>
              </div>
            </ion-item>
          </div>
        </ion-row>
        <ion-row class="w-100 mb-15">
          <ion-label>Impuesto</ion-label>
          <div class="container-input m-auto w-100">
            <div class="container-icon">
              <ion-icon class="icon-input" name="medkit-outline"></ion-icon>
            </div>
            <ion-item lines="none" color="none">
              <div class="input-group">
                <ion-input type="text" placeholder="Ingresa el porcentaje del impuesto" [(ngModel)]="expenses.tax"></ion-input>
              </div>
            </ion-item>
          </div>
        </ion-row>
        <div class="w-100 d-flex justify-content-between align-items-center">
          <p class="w-100 description">Sale de caja</p>
          <ion-toggle [(ngModel)]="expenses.cashBox"></ion-toggle>
        </div>                
        <ion-item-divider></ion-item-divider>                              
        <ion-row class="w-100">
          <ion-col>
            <div class="mt-15 w-100">
              <ion-button class="custom-cd-button border-green bg-green w-100" (click)="save()">
                <ion-text>Guardar cambios</ion-text>
              </ion-button>
            </div>
          </ion-col>
          <ion-col>
            <div class="mt-15 w-100">
              <ion-button class="custom-cd-button without-bg border-green w-100" (click)="closePopUp()">
                <ion-text>Cancelar</ion-text>
              </ion-button>
            </div>
          </ion-col>
        </ion-row>
      </ion-row>
  </ion-row>
</ion-content>
